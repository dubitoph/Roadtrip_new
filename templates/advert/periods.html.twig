{% extends "base.html.twig" %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block stylesheets %} 

     {{ parent () }} 
     <link rel = "stylesheet" href = "//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker.css"> 

 {% endblock %}

{% block body %}

    <div class="container mt4">

        {{ include('_messages.html.twig') }}

        {% if editMode %}

            <h1>Periods updating</h1>

        {% else %}

            <h1>Periods creation</h1>

        {% endif %}

        You have different seasons at your disposal : 
        <br>
        <br>
        <ul>

            {% for season in seasons %}

                <li>{{ season.season }}</li>
                
            {% endfor %}

        </ul>
        <br>
        For each period you will create, you will must choose a season. If you don't want create different periods, create only one for {{ limitCreationPeriods }}.
        <br>
        <br>
        In the next step, for each or for the unique season you will use, you will can specify prices.
        <br>
        <br>                
        <h4>From today to {{ upLimitDate|date("d/m/Y") }}</h4>

        {{ form_start(form) }}
                
            <ul class= "periods" data-prototype= " {{ form_widget ( form.periods.vars.prototype )| e ( 'html_attr' ) }} " >

                {# iterate over each existing period #}
                {% for period in form.periods %}
                    <li> 
                                    
                        {{ form_row(period.start) }}
                        {{ form_row( period.end ) }}
                        {{ form_row( period.season ) }}
                    
                    </li>
                {% endfor %}

            </ul> 
                
            <button class="btn btn-primary">{{ button | default('Save') }}</button>
            
        {{ form_end(form) }}

    </div>
    
    {% block javascripts %}
        
        {{ parent() }}

        {{ encore_entry_script_tags('periodsManagement') }}
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>

    {% endblock %}
   
{% endblock body %}
